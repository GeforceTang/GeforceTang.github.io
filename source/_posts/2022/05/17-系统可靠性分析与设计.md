---
title: 系统可靠性分析与设计
date: 2022-10-8 20:57:15
categories: 软考笔记
tags: 软考高级
---

## 知识点提要

> - 可靠性相关基本概念(⭐⭐)
> - 系统可靠性分析(⭐⭐⭐⭐)
> - 软件可靠性设计(⭐⭐⭐⭐)

## 可靠性基本概念

> 可靠性是软件系统在应用或系统错误面前，在意外或错误使用的情况下维持软件 系统的功能特性的基本能力。
>
> 而可用性是系统能够正常运行的时间比例。

软件可靠性≠硬件可靠性

➢复杂性：软件复杂性比硬件高，大部分失效来自于软件失效。

➢物理退化：硬件失效主要是物理退化所致，软件不存在物理退化。

➢唯一性：软件是唯一的，每个COPY版本都-样,而两个硬件不可能完全一-样。

➢版本更新周期：硬件较慢，软件较快。

### 可靠性指标

- 平均无故障时间 → (MTTF) MTTF=1/λ，λ为失效率
- 平均故障修复时间 → (MTTR) MTTR=1/μ, μ为修复率
- 平均故障间隔时间 → (MTBF) MTBF= MTTR+MTTF
- 系统可用性 → MTTF/(MTTR+MTTF) X 100%

![image-20221008210338926](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008210338926.png)

在实际应用中，一般MTTR很小，所以通常认为MTBF≈MTTF。

## 系统可靠性分析

### 串联系统

![image-20221008210706293](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008210706293.png)

### 并联系统

![image-20221008210721925](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008210721925.png)

### 混合系统

![image-20221008210721925](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008211110940.png)
$$
R\times(1-(1- R)^{3})\times(1-(1-R)^{2})
$$

## 软件可靠性设计

### 影响可靠性因素

影响软件可靠性的主要因素：

1. 软件的开发方法和开发环境
2. 运行环境
3. 软件系统[软件规模]
4. 软件内部结构
5. 软件的可靠性投入

### 设计策略

- 避错技术：比如软件测试，但不能保障100%。
- 降低复杂度设计：使用良好的架构设计。
- 检错技术：使用检查机制，在出错后报警，人工处理，成本较低。
- 容错技术：以冗余为基础，包含结构冗余(硬件冗余、软件冗余)、信息冗余(校验码)、时间冗余(重复多次进行相同的计算)
  - N版本程序设计(静态冗余)
  - 恢复块设计(动态冗余)
  - 防卫式程序设计

### N版本程序设计

![image-20221008213719226](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008213719226.png)

与通常软件开发过程不同的是，N版本程序设计增加了三个新的阶段：相异成分规范评审、相异性确认、背对背测试

N版本程序的同步、N版本程序之间的通信、表决算法(全等表决、非精确表决、Cosmetie表决)、一致比较问题、数据相异性

### 恢复块设计

![image-20221008213928746](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008213928746.png)


设计时应保证实现主块和后备块之间的独立性，避免相关错误的产生，使主块和备份块之间的共性错误降到最低程度。

必须保证验证测试程序的正确性。

![image-20221008214006980](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008214006980.png)

### 防卫式程序设计

> 使用try Catch机制来解决异常情况。

对于程序中存在的错误和不一致性，通过在程序中包含错误检查代码和错误恢复代码，使得一旦错误发生，程序能撤销错误状态，恢复到一个已知的正确状态中去。

实现策略: 错误检测、破坏估计、错误恢复。

### 双机容错

> 双机模式是集群的前身

![image-20221008214602898](https://geforce-tang.oss-cn-shanghai.aliyuncs.com/imgs/image-20221008214602898.png)

- 双机热备模式 (主系统、备用系统)：同一时间只有一台服务器在运行，备用服务器只有主服务器宕机之后才会运行。（资源浪费比较严重）
- 双机互备模式(同时提供不同的服务，心不跳则接管)：热备的一种变形，只是备用机器在做为备用的同时也承接了其他业务的主系统。
- 双机双工模式(同时提供相同的服务，集群的一种)：都做为主服务器，各自承接50%请求，一台宕机后另一台承接100%。
